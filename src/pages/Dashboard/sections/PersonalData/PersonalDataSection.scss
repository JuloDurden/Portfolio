@import '../../../../styles/globals/variables';

.personal-data-section {
  background: var(--color-white);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--box-shadow);
  border: 1px solid var(--color-border);
  margin-bottom: var(--spacing-lg);
  overflow: hidden;

  // üéØ EN-T√äTE
  &__header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: var(--spacing-lg);
    border-bottom: 1px solid var(--color-border);
    background: linear-gradient(135deg, var(--color-white), var(--color-gray-50));

    @media (max-width: $mobile) {
      flex-direction: column;
      gap: var(--spacing-md);
      padding: var(--spacing-md);
    }
  }

  &__title {
    font: var(--font-weight-bold) var(--font-size-2xl)/1.2 var(--font-primary);
    color: var(--color-text-primary);
    margin: 0 0 var(--spacing-sm) 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }

  &__description {
    color: var(--color-text-secondary);
    margin: 0;
    max-width: 500px;
  }

  &__refresh-btn {
    background: var(--color-gray-50);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--border-radius);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);

    &:hover:not(:disabled) {
      background: var(--color-primary);
      color: white;
      border-color: var(--color-primary);
      transform: translateY(-1px);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  // üìä BARRE DE STATUS
  &__status {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--color-gray-50);
    padding: var(--spacing-md) var(--spacing-lg);
    border-bottom: 1px solid var(--color-border);
    font-size: var(--font-size-sm);

    @media (max-width: $mobile) {
      flex-direction: column;
      gap: var(--spacing-sm);
      text-align: center;
      padding: var(--spacing-md);
    }
  }

  &__status-saved {
    color: var(--color-text-secondary);
    font-weight: var(--font-weight-medium);
  }

  &__status-item {
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: 20px;
    font-weight: var(--font-weight-semi-bold);
    font-size: var(--font-size-xs);

    &--saving {
      background: #fef3c7;
      color: #92400e;
      animation: pulse 2s infinite;
    }

    &--success {
      background: #d1fae5;
      color: #065f46;
    }

    &--error {
      background: #fee2e2;
      color: #991b1b;
    }
  }

  // üìù CONTENU
  &__content {
    padding: var(--spacing-lg);

    @media (max-width: $mobile) {
      padding: var(--spacing-md);
    }
  }

  // üîÑ √âTATS SP√âCIAUX
  &__no-data {
    text-align: center;
    padding: var(--spacing-3xl) var(--spacing-lg);
    color: var(--color-text-secondary);

    button {
      margin-top: var(--spacing-md);
      background: var(--color-primary);
      color: white;
      border: none;
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: var(--font-weight-semi-bold);

      &:hover {
        background: var(--color-primary-dark);
        transform: translateY(-1px);
      }
    }
  }

  // üé¨ ANIMATION
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  // üåô MODE SOMBRE
  [data-theme="dark"] & {
    background: var(--color-surface);
    border-color: var(--color-border);

    &__header {
      background: linear-gradient(135deg, var(--color-surface), var(--color-gray-100));
    }

    &__status {
      background: var(--color-gray-100);
    }

    &__refresh-btn {
      background: var(--color-gray-100);
      border-color: var(--color-border);
      color: var(--color-text-primary);
    }

    &__status-item {
      &--saving {
        background: #451a03;
        color: #fcd34d;
      }

      &--success {
        background: #022c22;
        color: #6ee7b7;
      }

      &--error {
        background: #450a0a;
        color: #fca5a5;
      }
    }
  }
}
