@use '../../styles/globals/variables' as *;

.background-wrapper {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 65vh;
  z-index: -1;
  overflow: hidden;
  pointer-events: none;

  // Masque de fondu vers le fond
  &::after {
    content: "";
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 35vh;
    background: linear-gradient(to bottom, transparent, var(--color-background));
    pointer-events: none;
    z-index: 3; // Au-dessus de tout 
  }
}

.background-layer {
  position: absolute;
  inset: -50%;
  background-size: 600% 600%;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  pointer-events: none;
}

.layer1, .layer2, .layer3 {
  position: absolute;
  inset: 0;
  z-index: 1;
}

// Couche 1 – la plus visible
.layer1 {
  background: linear-gradient(-45deg,
    var(--gradient-layer1-color1),
    var(--gradient-layer1-color2),
    var(--gradient-layer1-color3),
    var(--gradient-layer1-color4)
  );
  transform: translate(0, 0);
  background-size: 80% 100%;
  animation: anim1 10s ease-in-out infinite, hueShift 20s ease-in-out infinite;
  opacity: 0.9;
}

// Couche 2 – intermédiaire
.layer2 {
  background: linear-gradient(60deg,
    var(--gradient-layer2-color1),
    var(--gradient-layer2-color2),
    var(--gradient-layer2-color3),
    var(--gradient-layer2-color4)
  );
  transform: translate(10px, 10px);
  background-size: 500% 500%;
  animation: anim2 40s ease-in-out infinite;
  opacity: 0.8;
  filter: blur(40px);
}

// Couche 3 – la plus discrète
.layer3 {
  background: linear-gradient(120deg,
    var(--gradient-layer3-color1),
    var(--gradient-layer3-color2),
    var(--gradient-layer3-color3),
    var(--gradient-layer3-color4)
  );
  transform: translate(20px, 20px);
  background-size: 400% 400%;
  animation: anim3 90s ease-in-out infinite;
  opacity: 0.6;
  filter: blur(60px);
}

// Animations
@keyframes anim1 {
  0%   { background-position: 0% 0%; }
  50%  { background-position: 100% 100%; }
  100% { background-position: 0% 0%; }
}

@keyframes anim2 {
  0%   { background-position: 100% 0%; }
  50%  { background-position: 0% 100%; }
  100% { background-position: 100% 0%; }
}

@keyframes anim3 {
  0%   { background-position: 50% 0%; }
  50%  { background-position: 50% 100%; }
  100% { background-position: 50% 0%; }
}

@keyframes hueShift {
  0%   { filter: blur(20px) hue-rotate(0deg); }
  50%  { filter: blur(20px) hue-rotate(180deg); }
  100% { filter: blur(20px) hue-rotate(360deg); }
}
